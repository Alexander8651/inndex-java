Index: app/src/main/java/com/inndex/car/personas/fragments/estaciones/EstacionDetalleFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.inndex.car.personas.fragments.estaciones;\r\n\r\nimport android.content.Intent;\r\nimport android.location.Location;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.ExpandableListView;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.cardview.widget.CardView;\r\nimport androidx.constraintlayout.widget.ConstraintLayout;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport com.google.android.gms.maps.model.LatLng;\r\nimport com.inndex.car.personas.R;\r\nimport com.inndex.car.personas.adapter.ExpLAdapter;\r\nimport com.inndex.car.personas.enums.EBancos;\r\nimport com.inndex.car.personas.enums.ECombustibles;\r\nimport com.inndex.car.personas.enums.EEvents;\r\nimport com.inndex.car.personas.enums.EMetodosPago;\r\nimport com.inndex.car.personas.enums.EPuntoPago;\r\nimport com.inndex.car.personas.enums.ESoat;\r\nimport com.inndex.car.personas.enums.ETiendas;\r\nimport com.inndex.car.personas.model.Bancos;\r\nimport com.inndex.car.personas.model.EstacionCombustibles;\r\nimport com.inndex.car.personas.model.Estaciones;\r\nimport com.inndex.car.personas.model.Horario;\r\nimport com.inndex.car.personas.model.MetodoPago;\r\nimport com.inndex.car.personas.model.PuntoPago;\r\nimport com.inndex.car.personas.model.Tiendas;\r\nimport com.inndex.car.personas.shared.SharedViewModel;\r\n\r\nimport java.text.DecimalFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.Locale;\r\nimport java.util.Map;\r\n\r\npublic class EstacionDetalleFragment extends Fragment {\r\n\r\n    private Estaciones estaciones;\r\n    private float distancia = 2000;\r\n    private SharedViewModel model;\r\n\r\n    public TextView tvCalificacion;\r\n\r\n    public TextView tvCalificar;\r\n\r\n    public TextView tvDireciion;\r\n\r\n    public TextView tvDistancia;\r\n\r\n    public TextView tvHorario;\r\n\r\n    public TextView tvMarca;\r\n\r\n    public TextView tvNombre;\r\n\r\n    public TextView tvVerOpiniones;\r\n\r\n    public TextView tvCombustiblePrincipalTitulo;\r\n\r\n    public TextView tvCombustiblePrincipalPrecio;\r\n\r\n    public TextView tvCombustibleSecondTitulo;\r\n\r\n    public TextView tvCombustibleSecondPrecio;\r\n\r\n    public TextView tvCombustibleThirdTitulo;\r\n\r\n    public TextView tvCombustibleThirdPrecio;\r\n\r\n    private LatLng myPosition;\r\n\r\n    public EstacionDetalleFragment(Estaciones estacion, Float distance,\r\n                                   Location position) {\r\n        this.estaciones = estacion;\r\n        this.myPosition = new LatLng(position.getLatitude(), position.getLongitude());\r\n        this.distancia = distance;\r\n    }\r\n\r\n    public EstacionDetalleFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    public static EstacionDetalleFragment newInstance(String param1, String param2) {\r\n        EstacionDetalleFragment fragment = new EstacionDetalleFragment();\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n/*        if (getArguments() != null) {\r\n            estaciones = getArguments().getParcelable(Constantes.ESTACION_SELECCOINADA_KEY);\r\n            this.distancia = getArguments().getFloat(\"distancia\");\r\n        }*/\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View root = inflater.inflate(R.layout.fragment_estacion_detalle, container, false);\r\n\r\n        final TextView direccion = root.findViewById(R.id.direccionBomba);\r\n        final TextView marca = root.findViewById(R.id.tvEstacionDetalleMarca);\r\n        final TextView nombre = root.findViewById(R.id.tvEstaciondetalleNombre);\r\n        final TextView tvDistancia = root.findViewById(R.id.tv_estacion_servicios_distancia);\r\n        final ImageView botonBack = root.findViewById(R.id.botonbackdetallebomba);\r\n        final ImageView imgDrawRoute = root.findViewById(R.id.estaciones_servicios_route);\r\n        imgDrawRoute.setOnClickListener(v -> {\r\n            model.setHomeEvents(EEvents.DRAW_ROUTE.getId());\r\n        });\r\n/*        botonBack.setOnClickListener(v -> {\r\n            this.onDestroy();\r\n            //mainActivity.clickHome();\r\n        });*/\r\n\r\n        final TextView titulocajeros = root.findViewById(R.id.titulocajero);\r\n        final TextView tituloCorresponsales = root.findViewById(R.id.titulo_corresponsales);\r\n        final TextView titulopuntopagos = root.findViewById(R.id.titulopuntospago);\r\n        final TextView titulotiendaconvivencia = root.findViewById(R.id.titulotiendaconvivencia);\r\n        final TextView titulosoat = root.findViewById(R.id.titulosoat);\r\n        final TextView titulorestaurantes = root.findViewById(R.id.titulorestaurantes);\r\n        final TextView titulohoteles = root.findViewById(R.id.titulohoteles);\r\n        final TextView titulobanios = root.findViewById(R.id.titulobanios);\r\n        final TextView titulolubricantes = root.findViewById(R.id.titulolubricantes);\r\n        final TextView titulollanteria = root.findViewById(R.id.titulollanteria);\r\n        final TextView titulolavaderos = root.findViewById(R.id.titulolavadero);\r\n        final ImageView menuBomba = root.findViewById(R.id.img_menu_estacion_servicios);\r\n        final TextView tvPreciosActualizados = root.findViewById(R.id.tv_estacion_servicios_precios_actualizados);\r\n\r\n        final TextView tvVerOpiniones = root.findViewById(R.id.tv_estacion_servicios_ver_opiniones);\r\n        final TextView tvCalificar = root.findViewById(R.id.tv_estacion_servicios_calificar);\r\n        final TextView tvCalificacion = root.findViewById(R.id.tv_estacion_servicios_calificacion);\r\n/*        menuBomba.setOnClickListener(v -> {\r\n            PopupMenu popupMenu = new PopupMenu(requireContext(), menuBomba);\r\n            popupMenu.getMenuInflater().inflate(R.menu.menu_estacion_servicios, popupMenu.getMenu());\r\n            popupMenu.show();\r\n        });*/\r\n\r\n        tvCalificacion.setText(String.format(Locale.ENGLISH, \"%.1f\", estaciones.getCalificacion()));\r\n        float cal = 3.8f;\r\n        //float cal =  (float)estaciones.getCalificacion()\r\n\r\n        direccion.setText(estaciones.getDireccion());\r\n        marca.setText(estaciones.getMarca());\r\n        nombre.setText(estaciones.getNombre());\r\n        combustibles(root);\r\n        horariosycontacto(root);\r\n        cajeros(root);\r\n        initCorresponsales(root);\r\n        puntosPago(root);\r\n        tiendasConvivencia(root);\r\n        soat(root);\r\n        restaurantes(root);\r\n        hotel(root);\r\n        bano(root);\r\n        lubricantes(root);\r\n        llanteria(root);\r\n        lavaderos(root);\r\n        metodosPago(root);\r\n\r\n        distancia = 2000;\r\n        if (distancia < 1000) {\r\n            tvDistancia.setText(String.format(Locale.ENGLISH, \"%.2f m\", distancia));\r\n        } else {\r\n            distancia = distancia / 1000;\r\n            tvDistancia.setText(String.format(Locale.ENGLISH, \"%.2f km\", distancia));\r\n        }\r\n        return root;\r\n    }\r\n\r\n    private void combustibles(View root) {\r\n\r\n        View layCombustibles = root.findViewById(R.id.lay_combustibles);\r\n\r\n        if (estaciones.getListEstacionCombustibles() != null && estaciones.getListEstacionCombustibles().size() > 0) {\r\n            for (EstacionCombustibles bomba : estaciones.getListEstacionCombustibles()) {\r\n                TextView nombreCombustible = null;\r\n                TextView precioCombustible = null;\r\n\r\n                if (bomba.getCombustible().getId().equals(ECombustibles.CORRIENTE.getId())) {\r\n                    final LinearLayout corriente = root.findViewById(R.id.lay_corriente);\r\n                    corriente.setVisibility(View.VISIBLE);\r\n                    nombreCombustible = root.findViewById(R.id.nombreCorriente);\r\n                    precioCombustible = root.findViewById(R.id.precioCorriente);\r\n                }\r\n\r\n                if (bomba.getCombustible().getId().equals(ECombustibles.EXTRA.getId())) {\r\n                    final LinearLayout extra = root.findViewById(R.id.lay_extra);\r\n                    extra.setVisibility(View.VISIBLE);\r\n                    nombreCombustible = root.findViewById(R.id.nombreExtra);\r\n                    precioCombustible = root.findViewById(R.id.precioExtra);\r\n                }\r\n\r\n                if (bomba.getCombustible().getId().equals(ECombustibles.DIESEL.getId())) {\r\n                    final LinearLayout diesel = root.findViewById(R.id.DIESEL);\r\n                    diesel.setVisibility(View.VISIBLE);\r\n                    nombreCombustible = root.findViewById(R.id.nombreDiesel);\r\n                    precioCombustible = root.findViewById(R.id.precioDiesel);\r\n                }\r\n\r\n                if (bomba.getCombustible().getId().equals(ECombustibles.DIESEL.getId())) {\r\n                    final LinearLayout diesel = root.findViewById(R.id.DIESEL);\r\n                    diesel.setVisibility(View.VISIBLE);\r\n                    nombreCombustible = root.findViewById(R.id.nombreDiesel);\r\n                    precioCombustible = root.findViewById(R.id.precioDiesel);\r\n                }\r\n\r\n                if (bomba.getCombustible().getId().equals(ECombustibles.BIODIESEL.getId())) {\r\n                    final LinearLayout bioDiesel = root.findViewById(R.id.lay_bio_diesel);\r\n                    bioDiesel.setVisibility(View.VISIBLE);\r\n                    nombreCombustible = root.findViewById(R.id.nombre_bio_diesel);\r\n                    precioCombustible = root.findViewById(R.id.precio_bio_diesel);\r\n                }\r\n\r\n                if (nombreCombustible != null && precioCombustible != null) {\r\n                    nombreCombustible.setText(bomba.getCombustible().getNombre());\r\n                    DecimalFormat formatter = new DecimalFormat(\"###,###\");\r\n\r\n                    String sPrecio = formatter.format(Double.valueOf(bomba.getPrecio().intValue()));\r\n\r\n                    //    precioCombustible.setText(getString(R.string.precio_combustible_placeholder, bomba.getPrecio().intValue()));\r\n                    precioCombustible.setText(getString(R.string.precio_combustible_placeholder, sPrecio.replace(\",\", \".\")));\r\n                }\r\n            }\r\n        } else {\r\n            layCombustibles.setVisibility(View.GONE);\r\n        }\r\n    }\r\n\r\n    private void horariosycontacto(View root) {\r\n        ExpandableListView spin = root.findViewById(R.id.expanded_horarios);\r\n        ArrayList<String> listCategorias = new ArrayList<>();\r\n        Map<String, ArrayList<Horario>> mapChild = new HashMap<>();\r\n        View layHorarios = root.findViewById(R.id.horariosycontacto);\r\n\r\n        if (estaciones.getListHorarios() != null && estaciones.getListHorarios().size() > 0) {\r\n\r\n            ArrayList<Horario> horarios = new ArrayList<>(estaciones.getListHorarios());\r\n            listCategorias.add(\"Horarios y contacto\");\r\n            mapChild.put(listCategorias.get(0), horarios);\r\n            ExpLAdapter adapter = new ExpLAdapter(mapChild, listCategorias, requireContext());\r\n            spin.setAdapter(adapter);\r\n            spin.setIndicatorBounds(610, 0);\r\n            spin.setOnGroupClickListener((parent, v, groupPosition, id) -> {\r\n                View layout = root.findViewById(R.id.horariosycontacto);\r\n                LinearLayout.LayoutParams params = (LinearLayout.LayoutParams) layout.getLayoutParams();\r\n                if (parent.isGroupExpanded(groupPosition)) {\r\n                    params.height = 100;\r\n                } else {\r\n\r\n                    if (estaciones.getTelefono() != null){\r\n                        params.height = 1100;\r\n                        LinearLayout linearLayout = root.findViewById(R.id.llamarestacion);\r\n                        linearLayout.setVisibility(View.VISIBLE);\r\n                        final TextView numero = root.findViewById(R.id.numero_estacion);\r\n                        numero.setText(estaciones.getTelefono());\r\n\r\n                        final CardView botonLlamar = root.findViewById(R.id.botonllamar);\r\n\r\n                        botonLlamar.setOnClickListener(view ->{\r\n                            Intent i = new Intent(Intent.ACTION_DIAL);\r\n                            i.setData(Uri.parse(\"tel:\" +estaciones.getTelefono()));\r\n                            requireContext().startActivity(i);\r\n                        });\r\n\r\n\r\n\r\n                    }else {\r\n                        params.height = 900;\r\n\r\n                        LinearLayout linearLayout = root.findViewById(R.id.llamarestacion);\r\n                        linearLayout.setVisibility(View.GONE);\r\n\r\n\r\n                    }\r\n                }\r\n                return false;\r\n            });\r\n        } else {\r\n            layHorarios.setVisibility(View.GONE);\r\n        }\r\n    }\r\n\r\n    private void metodosPago(View root) {\r\n\r\n        if (estaciones.getListMetodosPago() != null && estaciones.getListMetodosPago().size() > 0) {\r\n\r\n            int counter = 0;\r\n            ImageView imgMetodoPago = null;\r\n            LinearLayout.LayoutParams params = new LinearLayout.LayoutParams((int) getResources().getDimension(R.dimen.size_img_secciones),\r\n                    (int) getResources().getDimension(R.dimen.size_img_secciones));\r\n\r\n            for (MetodoPago metodoPago : estaciones.getListMetodosPago()\r\n            ) {\r\n\r\n                switch (EMetodosPago.getMetodosPagoById(metodoPago.getId())) {\r\n                    case PSE:\r\n                        imgMetodoPago = root.findViewById(R.id.metodoPagoPse);\r\n                        break;\r\n                    case AMERICAN_EXPRESS:\r\n                        imgMetodoPago = root.findViewById(R.id.metodoPagoAmericanExpress);\r\n                        break;\r\n                    case DINERS_CLUB:\r\n                        imgMetodoPago = root.findViewById(R.id.metodoPagoDinersClub);\r\n                        break;\r\n                    case DISCOVER:\r\n                        imgMetodoPago = root.findViewById(R.id.metodoPagoDiscover);\r\n                        break;\r\n                    case EFECTIVO:\r\n                        imgMetodoPago = root.findViewById(R.id.metodoPagoEfectivo);\r\n                        break;\r\n                    case GOPASS:\r\n                        imgMetodoPago = root.findViewById(R.id.metodoPagoGopass);\r\n                        break;\r\n                    case MASTERCARD:\r\n                        imgMetodoPago = root.findViewById(R.id.metodoPagoMastercard);\r\n                        break;\r\n                    case MERCADO_PAGO:\r\n                        imgMetodoPago = root.findViewById(R.id.metodoPagoMercadoPago);\r\n                        break;\r\n                    case PAGO_CLICK:\r\n                        imgMetodoPago = root.findViewById(R.id.metodoPagoPagoClick);\r\n                        break;\r\n                    case PUNTOS_COLOMBIA:\r\n                        imgMetodoPago = root.findViewById(R.id.metodoPagoPuntosColombia);\r\n                        break;\r\n                    case TPAGA:\r\n                        imgMetodoPago = root.findViewById(R.id.metodoPagoTPaga);\r\n                        break;\r\n                    case VISA:\r\n                        imgMetodoPago = root.findViewById(R.id.metodoPagoVisa);\r\n                        break;\r\n                }\r\n\r\n                if (imgMetodoPago != null) {\r\n                    if (counter == 0) {\r\n                        params.setMargins(0, 0, 20, 0);\r\n                        imgMetodoPago.setLayoutParams(params);\r\n                    } else if (counter > 0) {\r\n                        params.setMargins(20, 0, 20, 0);\r\n                        imgMetodoPago.setLayoutParams(params);\r\n                    }\r\n                    imgMetodoPago.setVisibility(View.VISIBLE);\r\n                    counter++;\r\n                }\r\n            }\r\n        }else {\r\n            LinearLayout layout = root.findViewById(R.id.layMetodosPago);\r\n            layout.setVisibility(View.GONE);\r\n        }\r\n\r\n    }\r\n\r\n    private void cajeros(View root) {\r\n\r\n        if (estaciones.getListCajeros() != null && estaciones.getListCajeros().size() > 0) {\r\n            int counter = 0;\r\n            ImageView imgCajero = null;\r\n            LinearLayout.LayoutParams params = new LinearLayout.LayoutParams((int) getResources().getDimension(R.dimen.size_img_secciones),\r\n                    (int) getResources().getDimension(R.dimen.size_img_secciones));\r\n            for (Bancos cajero : estaciones.getListCajeros()) {\r\n                if (cajero.getId().equals(EBancos.ATH.getId())) {\r\n                    imgCajero = root.findViewById(R.id.cajeroBancoAth);\r\n                }\r\n\r\n                if (cajero.getId().equals(EBancos.CITIBANK.getId())) {\r\n                    imgCajero = root.findViewById(R.id.cajeroCitiBank);\r\n                }\r\n\r\n                if (cajero.getId().equals(EBancos.BANCOOMEVA.getId())) {\r\n                    imgCajero = root.findViewById(R.id.cajeroBancoomeva);\r\n                }\r\n\r\n                if (cajero.getId().equals(EBancos.BANCO_AGRARIO_DE_COLOMBIA.getId())) {\r\n                    imgCajero = root.findViewById(R.id.cajeroBancoAgrarioColombia);\r\n                }\r\n\r\n                if (cajero.getId().equals(EBancos.BANCOLOMBIA.getId())) {\r\n                    imgCajero = root.findViewById(R.id.cajeroBancolombia);\r\n                }\r\n\r\n                if (cajero.getId().equals(EBancos.BANCO_PROCREDIT.getId())) {\r\n                    imgCajero = root.findViewById(R.id.cajeroBancoProcredit);\r\n                }\r\n\r\n                if (cajero.getId().equals(EBancos.BANCO_POPULAR.getId())) {\r\n                    imgCajero = root.findViewById(R.id.cajeroBancoPopular);\r\n                }\r\n\r\n                if (cajero.getId().equals(EBancos.BANCO_PICHINCHA.getId())) {\r\n                    imgCajero = root.findViewById(R.id.cajeroBancoPichincha);\r\n                }\r\n\r\n                if (cajero.getId().equals(EBancos.BANCO_OLD_MUTUAL.getId())) {\r\n                    imgCajero = root.findViewById(R.id.cajeroBancoOldMutual);\r\n                }\r\n\r\n                if (cajero.getId().equals(EBancos.BANCO_GNB_SUDAMERIS.getId())) {\r\n                    imgCajero = root.findViewById(R.id.cajeroBancoBngSudameris);\r\n                }\r\n\r\n                if (cajero.getId().equals(EBancos.BANCO_FALABELLA.getId())) {\r\n                    imgCajero = root.findViewById(R.id.cajeroFalabella);\r\n                }\r\n\r\n                if (cajero.getId().equals(EBancos.BANCO_DE_OCCIDENTE.getId())) {\r\n                    imgCajero = root.findViewById(R.id.cajeroBancoOccidente);\r\n                }\r\n\r\n                if (cajero.getId().equals(EBancos.BANCO_DE_BOGOTA.getId())) {\r\n                    imgCajero = root.findViewById(R.id.cajeroBancoBogota);\r\n                }\r\n\r\n                if (cajero.getId().equals(EBancos.BANCO_DAVIVIENDA.getId())) {\r\n                    imgCajero = root.findViewById(R.id.cajeroBancoDavivienda);\r\n                }\r\n\r\n                if (cajero.getId().equals(EBancos.BANCO_ITAU.getId())) {\r\n\r\n                    imgCajero = root.findViewById(R.id.cajeroItau);\r\n                }\r\n\r\n                if (cajero.getId().equals(EBancos.BANCO_CORPBANCA.getId())) {\r\n\r\n                    imgCajero = root.findViewById(R.id.cajeroBancoCorpBanca);\r\n                }\r\n\r\n                if (cajero.getId().equals(EBancos.BANCO_COOPERATIVO_COOPCENTRAL.getId())) {\r\n\r\n                    imgCajero = root.findViewById(R.id.cajeroBancoCooperativoCoopcentral);\r\n                }\r\n\r\n                if (cajero.getId().equals(EBancos.BANCO_COLPATRIA.getId())) {\r\n\r\n                    imgCajero = root.findViewById(R.id.cajeroBancoColpatria);\r\n                }\r\n\r\n                if (cajero.getId().equals(EBancos.BANCO_CAJA_SOCIAL.getId())) {\r\n\r\n                    imgCajero = root.findViewById(R.id.cajeroBancoCajaSocial);\r\n                }\r\n\r\n                if (cajero.getId().equals(EBancos.BANCO_BBVA.getId())) {\r\n\r\n                    imgCajero = root.findViewById(R.id.cajeroBancoBbva);\r\n                }\r\n\r\n                if (cajero.getId().equals(EBancos.BANCO_AV_VILLAS.getId())) {\r\n\r\n                    imgCajero = root.findViewById(R.id.cajeroBancoAvvillas);\r\n                }\r\n\r\n                if (cajero.getId().equals(EBancos.SERVY_BANCA.getId())) {\r\n\r\n                    imgCajero = root.findViewById(R.id.cajero_servy_banca);\r\n                }\r\n\r\n                if (imgCajero != null) {\r\n                    if (counter == 0) {\r\n                        params.setMargins(0, 0, 20, 0);\r\n                        imgCajero.setLayoutParams(params);\r\n                    } else if (counter > 0) {\r\n                        params.setMargins(20, 0, 20, 0);\r\n                        imgCajero.setLayoutParams(params);\r\n                    }\r\n                    imgCajero.setVisibility(View.VISIBLE);\r\n                    counter++;\r\n                }\r\n            }\r\n\r\n        } else {\r\n            ConstraintLayout cajeros = root.findViewById(R.id.cajeros);\r\n            cajeros.setVisibility(View.GONE);\r\n        }\r\n    }\r\n\r\n    private void initCorresponsales(View root) {\r\n        if (estaciones.getListCorresponsales() != null && estaciones.getListCorresponsales().size() > 0) {\r\n            ImageView imgCorresponsal = null;\r\n            int counter = 0;\r\n            LinearLayout.LayoutParams params = new LinearLayout.LayoutParams((int) getResources().getDimension(R.dimen.size_img_secciones),\r\n                    (int) getResources().getDimension(R.dimen.size_img_secciones));\r\n\r\n            for (Bancos corresponsal : estaciones.getListCorresponsales()) {\r\n\r\n                if (corresponsal.getId().equals(EBancos.ATH.getId())) {\r\n                    imgCorresponsal = root.findViewById(R.id.corresponsalBancoAth);\r\n                    imgCorresponsal.setVisibility(View.VISIBLE);\r\n                }\r\n\r\n                if (corresponsal.getId().equals(EBancos.CITIBANK.getId())) {\r\n                    imgCorresponsal = root.findViewById(R.id.corresponsalCitiBank);\r\n                    imgCorresponsal.setVisibility(View.VISIBLE);\r\n                }\r\n\r\n                if (corresponsal.getId().equals(EBancos.BANCOOMEVA.getId())) {\r\n                    imgCorresponsal = root.findViewById(R.id.corresponsalBancoomeva);\r\n                    imgCorresponsal.setVisibility(View.VISIBLE);\r\n                }\r\n\r\n                if (corresponsal.getId().equals(EBancos.BANCO_AGRARIO_DE_COLOMBIA.getId())) {\r\n                    imgCorresponsal = root.findViewById(R.id.corresponsalBancoAgrarioColombia);\r\n                    imgCorresponsal.setVisibility(View.VISIBLE);\r\n                }\r\n\r\n                if (corresponsal.getId().equals(EBancos.BANCOLOMBIA.getId())) {\r\n                    imgCorresponsal = root.findViewById(R.id.corresponsalBancolombia);\r\n                    imgCorresponsal.setVisibility(View.VISIBLE);\r\n                }\r\n\r\n                if (corresponsal.getId().equals(EBancos.BANCO_PROCREDIT.getId())) {\r\n                    imgCorresponsal = root.findViewById(R.id.corresponsalBancoProcredit);\r\n                    imgCorresponsal.setVisibility(View.VISIBLE);\r\n                }\r\n\r\n                if (corresponsal.getId().equals(EBancos.BANCO_POPULAR.getId())) {\r\n                    imgCorresponsal = root.findViewById(R.id.corresponsalBancoPopular);\r\n                    imgCorresponsal.setVisibility(View.VISIBLE);\r\n                }\r\n\r\n                if (corresponsal.getId().equals(EBancos.BANCO_PICHINCHA.getId())) {\r\n                    imgCorresponsal = root.findViewById(R.id.corresponsalBancoPichincha);\r\n                    imgCorresponsal.setVisibility(View.VISIBLE);\r\n                }\r\n\r\n                if (corresponsal.getId().equals(EBancos.BANCO_OLD_MUTUAL.getId())) {\r\n                    imgCorresponsal = root.findViewById(R.id.corresponsalBancoOldMutual);\r\n                    imgCorresponsal.setVisibility(View.VISIBLE);\r\n                }\r\n\r\n                if (corresponsal.getId().equals(EBancos.BANCO_GNB_SUDAMERIS.getId())) {\r\n                    imgCorresponsal = root.findViewById(R.id.corresponsalBancoBngSudameris);\r\n                    imgCorresponsal.setVisibility(View.VISIBLE);\r\n                }\r\n\r\n                if (corresponsal.getId().equals(EBancos.BANCO_FALABELLA.getId())) {\r\n                    imgCorresponsal = root.findViewById(R.id.corresponsalFalabella);\r\n                    imgCorresponsal.setVisibility(View.VISIBLE);\r\n                }\r\n\r\n                if (corresponsal.getId().equals(EBancos.BANCO_DE_OCCIDENTE.getId())) {\r\n                    imgCorresponsal = root.findViewById(R.id.corresponsalBancoOccidente);\r\n                    imgCorresponsal.setVisibility(View.VISIBLE);\r\n                }\r\n\r\n                if (corresponsal.getId().equals(EBancos.BANCO_DE_BOGOTA.getId())) {\r\n                    imgCorresponsal = root.findViewById(R.id.corresponsalBancoBogota);\r\n                    imgCorresponsal.setVisibility(View.VISIBLE);\r\n                }\r\n\r\n                if (corresponsal.getId().equals(EBancos.BANCO_DAVIVIENDA.getId())) {\r\n\r\n                    imgCorresponsal = root.findViewById(R.id.corresponsalBancoDavivienda);\r\n                    imgCorresponsal.setVisibility(View.VISIBLE);\r\n                }\r\n\r\n                if (corresponsal.getId().equals(EBancos.BANCO_ITAU.getId())) {\r\n\r\n                    imgCorresponsal = root.findViewById(R.id.corresponsalItau);\r\n                    imgCorresponsal.setVisibility(View.VISIBLE);\r\n                }\r\n\r\n                if (corresponsal.getId().equals(EBancos.BANCO_CORPBANCA.getId())) {\r\n\r\n                    imgCorresponsal = root.findViewById(R.id.corresponsalBancoCorpBanca);\r\n                    imgCorresponsal.setVisibility(View.VISIBLE);\r\n                }\r\n\r\n                if (corresponsal.getId().equals(EBancos.BANCO_COOPERATIVO_COOPCENTRAL.getId())) {\r\n\r\n                    imgCorresponsal = root.findViewById(R.id.corresponsalBancoCooperativoCoopcentral);\r\n                    imgCorresponsal.setVisibility(View.VISIBLE);\r\n                }\r\n\r\n                if (corresponsal.getId().equals(EBancos.BANCO_COLPATRIA.getId())) {\r\n\r\n                    imgCorresponsal = root.findViewById(R.id.corresponsalBancoColpatria);\r\n                    imgCorresponsal.setVisibility(View.VISIBLE);\r\n                }\r\n                if (corresponsal.getId().equals(EBancos.BANCO_CAJA_SOCIAL.getId())) {\r\n                    imgCorresponsal = root.findViewById(R.id.corresponsalBancoCajaSocial);\r\n                    imgCorresponsal.setVisibility(View.VISIBLE);\r\n                }\r\n                if (corresponsal.getId().equals(EBancos.BANCO_BBVA.getId())) {\r\n                    imgCorresponsal = root.findViewById(R.id.corresponsalBancoBbva);\r\n                    imgCorresponsal.setVisibility(View.VISIBLE);\r\n                }\r\n                if (corresponsal.getId().equals(EBancos.BANCO_AV_VILLAS.getId())) {\r\n                    imgCorresponsal = root.findViewById(R.id.corresponsalBancoAvvillas);\r\n                    imgCorresponsal.setVisibility(View.VISIBLE);\r\n                }\r\n                if (counter == 0 && imgCorresponsal != null) {\r\n                    params.setMargins(0, 0, 20, 0);\r\n                    imgCorresponsal.setLayoutParams(params);\r\n                } else if (counter > 0) {\r\n                    params.setMargins(20, 0, 20, 0);\r\n                    imgCorresponsal.setLayoutParams(params);\r\n                }\r\n                counter++;\r\n\r\n            }\r\n        } else {\r\n            ConstraintLayout cajeros = root.findViewById(R.id.constrait_corresponsales);\r\n            cajeros.setVisibility(View.GONE);\r\n        }\r\n    }\r\n\r\n    private void puntosPago(View root) {\r\n        if (estaciones.getListPuntosPago() != null && estaciones.getListPuntosPago().size() > 0) {\r\n            int counter = 0;\r\n            LinearLayout.LayoutParams params = new LinearLayout.LayoutParams((int) getResources().getDimension(R.dimen.size_img_secciones),\r\n                    (int) getResources().getDimension(R.dimen.size_img_secciones));\r\n            ImageView imgPuntoPago = null;\r\n            for (PuntoPago puntoPago : estaciones.getListPuntosPago()) {\r\n                //\r\n                if (puntoPago.getId().equals(EPuntoPago.BALOTO.getId())) {\r\n                    imgPuntoPago = root.findViewById(R.id.puntoPagoBaloto);\r\n                }\r\n\r\n                if (puntoPago.getId().equals(EPuntoPago.EFECTY.getId())) {\r\n                    imgPuntoPago = root.findViewById(R.id.puntoPagoEfecty);\r\n                }\r\n\r\n                if (puntoPago.getId().equals(EPuntoPago.SU_RED.getId())) {\r\n                    imgPuntoPago = root.findViewById(R.id.puntoPagoSuRed);\r\n                }\r\n\r\n                if (puntoPago.getId().equals(EPuntoPago.GIROS_Y_FINANZAS.getId())) {\r\n                    imgPuntoPago = root.findViewById(R.id.punto_giros_y_finanzas);\r\n                }\r\n\r\n                if (puntoPago.getId().equals(EPuntoPago.MOVII_RED.getId())) {\r\n                    imgPuntoPago = root.findViewById(R.id.punto_moviired);\r\n                }\r\n\r\n                if (puntoPago.getId().equals(EPuntoPago.PAGA_FACIL.getId())) {\r\n                    imgPuntoPago = root.findViewById(R.id.punto_pagafacil);\r\n                }\r\n\r\n                if (puntoPago.getId().equals(EPuntoPago.WESTERN_UNION.getId())) {\r\n                    imgPuntoPago = root.findViewById(R.id.punto_western_union);\r\n                }\r\n\r\n                if (puntoPago.getId().equals(EPuntoPago.REDEBAN.getId())) {\r\n                    imgPuntoPago = root.findViewById(R.id.puntoredeban);\r\n                }\r\n\r\n                if (puntoPago.getId().equals(EPuntoPago.SERVY_PAGOS.getId())) {\r\n                    imgPuntoPago = root.findViewById(R.id.puntoservypagos);\r\n                }\r\n                if (puntoPago.getId().equals(EPuntoPago.SUPER_GIROS.getId())) {\r\n                    imgPuntoPago = root.findViewById(R.id.puntosupergiros);\r\n                }\r\n                if (puntoPago.getId().equals(EPuntoPago.PUNTO_RED.getId())) {\r\n                    imgPuntoPago = root.findViewById(R.id.punto_red);\r\n                }\r\n\r\n                if (imgPuntoPago != null) {\r\n                    if (counter == 0) {\r\n                        params.setMargins(0, 0, 20, 0);\r\n                        imgPuntoPago.setLayoutParams(params);\r\n                    } else if (counter > 0) {\r\n                        params.setMargins(20, 0, 20, 0);\r\n                        imgPuntoPago.setLayoutParams(params);\r\n                    }\r\n                    imgPuntoPago.setVisibility(View.VISIBLE);\r\n                }\r\n\r\n\r\n                counter++;\r\n\r\n            }\r\n        } else {\r\n            ConstraintLayout puntosPagos = root.findViewById(R.id.puntospago);\r\n            puntosPagos.setVisibility(View.GONE);\r\n        }\r\n    }\r\n\r\n    private void tiendasConvivencia(View root) {\r\n        if (estaciones.getListTiendas() != null && estaciones.getListTiendas().size() > 0) {\r\n            int counter = 0;\r\n            ImageView imgTienda = null;\r\n            LinearLayout.LayoutParams params = new LinearLayout.LayoutParams((int) getResources().getDimension(R.dimen.size_img_secciones),\r\n                    (int) getResources().getDimension(R.dimen.size_img_secciones));\r\n            for (Tiendas tienda : estaciones.getListTiendas()) {\r\n                //\r\n                if (tienda.getId().equals(ETiendas.TIGER_MARKET.getId())) {\r\n                    imgTienda = root.findViewById(R.id.puntoPagoBaloto);\r\n                    imgTienda.setVisibility(View.VISIBLE);\r\n                }\r\n\r\n                if (tienda.getId().equals(ETiendas.TIGER_MARKET.getId())) {\r\n                    imgTienda = root.findViewById(R.id.tiendaTigerMarket);\r\n                    imgTienda.setVisibility(View.VISIBLE);\r\n                }\r\n\r\n                if (tienda.getId().equals(ETiendas.OLIMPICA.getId())) {\r\n                    imgTienda = root.findViewById(R.id.tiendaOlimpica);\r\n                    imgTienda.setVisibility(View.VISIBLE);\r\n                }\r\n\r\n                if (tienda.getId().equals(ETiendas.JUSTO_Y_BUENO.getId())) {\r\n                    imgTienda = root.findViewById(R.id.tiendaJustoBueno);\r\n                    imgTienda.setVisibility(View.VISIBLE);\r\n                }\r\n\r\n                if (tienda.getId().equals(ETiendas.EXITO_EXPRESS.getId())) {\r\n                    imgTienda = root.findViewById(R.id.tiendaExitoExpress);\r\n                    imgTienda.setVisibility(View.VISIBLE);\r\n                }\r\n\r\n                if (tienda.getId().equals(ETiendas.D_UNO.getId())) {\r\n                    imgTienda = root.findViewById(R.id.tiendaD1);\r\n                    imgTienda.setVisibility(View.VISIBLE);\r\n                }\r\n\r\n                if (tienda.getId().equals(ETiendas.ALTOQUE.getId())) {\r\n                    imgTienda = root.findViewById(R.id.tiendaAltoque);\r\n                    imgTienda.setVisibility(View.VISIBLE);\r\n                }\r\n                if (counter == 0 && imgTienda != null) {\r\n\r\n                    params.setMargins(0, 0, 20, 0);\r\n                    imgTienda.setLayoutParams(params);\r\n                } else if (counter > 0) {\r\n                    params.setMargins(20, 0, 20, 0);\r\n                    imgTienda.setLayoutParams(params);\r\n                }\r\n                counter++;\r\n            }\r\n\r\n        } else {\r\n            ConstraintLayout tiendasConvivencia = root.findViewById(R.id.tiendasconvivencia);\r\n            tiendasConvivencia.setVisibility(View.GONE);\r\n        }\r\n    }\r\n\r\n    private void soat(View root) {\r\n\r\n        if (estaciones.getSoat() != null) {\r\n\r\n            if (estaciones.getSoat().getId().equals(ESoat.ALLIANZ.getId())) {\r\n                ImageView soatAllianz = root.findViewById(R.id.soatAllianz);\r\n                soatAllianz.setVisibility(View.VISIBLE);\r\n            }\r\n            if (estaciones.getSoat().getId().equals(ESoat.AXA_COLPATRIA.getId())) {\r\n                ImageView soatAxa = root.findViewById(R.id.soatAxaColpatria);\r\n                soatAxa.setVisibility(View.VISIBLE);\r\n            }\r\n            if (estaciones.getSoat().getId().equals(ESoat.LIBERTY_SEGUROS.getId())) {\r\n                ImageView soatLiberty = root.findViewById(R.id.soatLibertySeguros);\r\n                soatLiberty.setVisibility(View.VISIBLE);\r\n            }\r\n            if (estaciones.getSoat().getId().equals(ESoat.MAPRE_SEGUROS.getId())) {\r\n                ImageView soatMapfre = root.findViewById(R.id.soatMapreSeguros);\r\n                soatMapfre.setVisibility(View.VISIBLE);\r\n            }\r\n            if (estaciones.getSoat().getId().equals(ESoat.MUNDIAL_DE_SEGUROS.getId())) {\r\n                ImageView soatMundial = root.findViewById(R.id.soatMundialDeSeguros);\r\n                soatMundial.setVisibility(View.VISIBLE);\r\n            }\r\n            if (estaciones.getSoat().getId().equals(ESoat.SEGUROS_BOLIVAR.getId())) {\r\n                ImageView soatBolivar = root.findViewById(R.id.soatSegurosBolivar);\r\n                soatBolivar.setVisibility(View.VISIBLE);\r\n            }\r\n\r\n            if (estaciones.getSoat().getId().equals(ESoat.SEGUROS_DEL_ESTADO.getId())) {\r\n                ImageView soatEstado = root.findViewById(R.id.soatSegurosEstado);\r\n                soatEstado.setVisibility(View.VISIBLE);\r\n            }\r\n            if (estaciones.getSoat().getId().equals(ESoat.SEGUROS_EXITO.getId())) {\r\n                ImageView soatExito = root.findViewById(R.id.soatSegurosExito);\r\n                soatExito.setVisibility(View.VISIBLE);\r\n            }\r\n            if (estaciones.getSoat().getId().equals(ESoat.SEGUROS_FALABELLA.getId())) {\r\n                ImageView soatFalabella = root.findViewById(R.id.soatSegurosFalaBella);\r\n                soatFalabella.setVisibility(View.VISIBLE);\r\n            }\r\n            if (estaciones.getSoat().getId().equals(ESoat.SEGUROS_LA_EQUIDAD.getId())) {\r\n                ImageView soatEquidad = root.findViewById(R.id.soatSegurosEquidad);\r\n                soatEquidad.setVisibility(View.VISIBLE);\r\n            }\r\n            if (estaciones.getSoat().getId().equals(ESoat.SURA_SEGUROS.getId())) {\r\n                ImageView soatSura = root.findViewById(R.id.soatSuraSeguros);\r\n                soatSura.setVisibility(View.VISIBLE);\r\n            }\r\n        } else {\r\n            ConstraintLayout soat = root.findViewById(R.id.soat);\r\n            soat.setVisibility(View.GONE);\r\n        }\r\n    }\r\n\r\n    private void restaurantes(View root) {\r\n\r\n        if (estaciones.getListRestaurantes() != null && estaciones.getListRestaurantes().size() > 0) {\r\n            ImageView restaurante = root.findViewById(R.id.estacionRestaurante);\r\n            restaurante.setVisibility(View.VISIBLE);\r\n        } else {\r\n            ConstraintLayout restaurante = root.findViewById(R.id.restautantes);\r\n            restaurante.setVisibility(View.GONE);\r\n        }\r\n    }\r\n\r\n    private void hotel(View root) {\r\n        if (estaciones.getListHoteles() != null && estaciones.getListHoteles().size() > 0) {\r\n            ImageView hotel = root.findViewById(R.id.estacionHotel);\r\n            hotel.setVisibility(View.VISIBLE);\r\n        } else {\r\n            ConstraintLayout restaurante = root.findViewById(R.id.hoteles);\r\n            restaurante.setVisibility(View.GONE);\r\n        }\r\n    }\r\n\r\n    private void bano(View root) {\r\n\r\n        if (estaciones.getTieneBanios() != null && estaciones.getTieneBanios()) {\r\n            ImageView hotel = root.findViewById(R.id.estacionbanios);\r\n            hotel.setVisibility(View.VISIBLE);\r\n        } else {\r\n            ConstraintLayout bano = root.findViewById(R.id.banios);\r\n            bano.setVisibility(View.GONE);\r\n        }\r\n    }\r\n\r\n    private void lubricantes(View root) {\r\n\r\n        if (estaciones.getTieneVentaLubricante() != null) {\r\n            if (estaciones.getTieneVentaLubricante()) {\r\n                ImageView lubricantes = root.findViewById(R.id.estacionLubricantes);\r\n                lubricantes.setVisibility(View.VISIBLE);\r\n            } else {\r\n                ConstraintLayout lubricantes = root.findViewById(R.id.lubricantes);\r\n                lubricantes.setVisibility(View.GONE);\r\n            }\r\n        } else {\r\n            ConstraintLayout lubricantes = root.findViewById(R.id.lubricantes);\r\n            lubricantes.setVisibility(View.GONE);\r\n        }\r\n    }\r\n\r\n    private void llanteria(View root) {\r\n        if (estaciones.getTieneLlanteria() != null) {\r\n            if (estaciones.getTieneLlanteria()) {\r\n                ImageView llanteria = root.findViewById(R.id.estacionLlanteria);\r\n                llanteria.setVisibility(View.VISIBLE);\r\n            } else {\r\n\r\n                ConstraintLayout llanteria = root.findViewById(R.id.llanteria);\r\n                llanteria.setVisibility(View.GONE);\r\n            }\r\n        } else {\r\n\r\n            ConstraintLayout llanteria = root.findViewById(R.id.llanteria);\r\n            llanteria.setVisibility(View.GONE);\r\n        }\r\n    }\r\n\r\n    private void lavaderos(View root) {\r\n\r\n        if (estaciones.getTieneLavadero() != null) {\r\n            if (estaciones.getTieneLavadero()) {\r\n                ImageView lavadero = root.findViewById(R.id.estacionLavaderos);\r\n                lavadero.setVisibility(View.VISIBLE);\r\n            } else {\r\n                ConstraintLayout lavadero = root.findViewById(R.id.lavaderos);\r\n                lavadero.setVisibility(View.GONE);\r\n            }\r\n        } else {\r\n            ConstraintLayout lavadero = root.findViewById(R.id.lavaderos);\r\n            lavadero.setVisibility(View.GONE);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        model = new ViewModelProvider(getActivity()).get(SharedViewModel.class);\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/inndex/car/personas/fragments/estaciones/EstacionDetalleFragment.java	(revision 47c1313247ab9c4f95589cd7955105cf9bfe32cd)
+++ app/src/main/java/com/inndex/car/personas/fragments/estaciones/EstacionDetalleFragment.java	(date 1612131095591)
@@ -256,6 +256,8 @@
                 LinearLayout.LayoutParams params = (LinearLayout.LayoutParams) layout.getLayoutParams();
                 if (parent.isGroupExpanded(groupPosition)) {
                     params.height = 100;
+                    LinearLayout linearLayout = root.findViewById(R.id.llamarestacion);
+
                 } else {
 
                     if (estaciones.getTelefono() != null){
